<!doctype html><html class=no-js><head><meta charset=utf-8><title>Scheduling</title><meta name=description content=Scheduling><meta name=viewport content="width=device-width"><link href=/static/gantt_dist/angular-gantt-scheduling.css rel=stylesheet></head><body ng-app=gantt.scheduling ng-strict-di><!--[if lt IE 7]>
<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->
gantt图把index文件直接放到flask中，避免了iframe，注意修改css文件和js文件的路径，图片路径在css文件中，暂时不着急修改。另外后端代码改写到flask当中
<div ng-controller=SchedulingCtrl class=full-height><div class=container-content ng-show=false><div class=container-fluid><div class="row top-buffer"><div class=col-md-12><i class="fa fa-cog fa-spin"></i> Loading scheduling ...</div></div></div></div><div class="container-content full-height" ng-cloak=true><div class="container-fluid full-height"><div class=row><div class=col-md-12><div class=panel-group bs-collapse><div class="panel panel-default"><div class=panel-heading><h4 class=panel-title><a href="" bs-collapse-toggle>配置</a></h4></div><div class=panel-collapse bs-collapse-target><div class=panel-body><div class=container-fluid><div class=row><div class=form-inline><div class="form-group text-center"><label class=control-label><i class="fa fa-search"></i> 刻度</label><br><button type=button style="width: 8em; text-align: left" class="btn btn-default" ng-model=options.scale bs-options="s for s in ['hour', '3 hours', 'day', 'week',  'month', 'quarter', 'year']" bs-select></button></div><div class="form-group text-center"><label class=control-label><i class="fa fa-pencil-square-o"></i> 能否编辑</label><br><button type=button class="btn btn-default" ng-model=options.readOnly bs-checkbox>只读</button></div><div class="form-group text-center"><label class=control-label><i class="fa fa-bars"></i> 侧边</label><br><div class=btn-group bs-checkbox-group><button type=button style="width: 8em; text-align: left" class="btn btn-default" ng-model=options.sideMode bs-options="s for s in ['Tree', 'Table', 'TreeTable', 'Disabled']" bs-select></button></div></div><div class="form-group text-center"><label class=control-label><i class="fa fa-crop"></i> 布局</label><br><div class=btn-group bs-checkbox-group><button type=button class="btn btn-default" ng-model=options.maxHeight bs-checkbox>高度</button> <button ng-disabled=!canAutoWidth(options.scale) type=button class="btn btn-default" ng-model=options.width bs-checkbox>宽度</button></div></div><div class="form-group text-center"><label class=control-label><i class="fa fa-search"></i> 比例大小</label><br><input ng-disabled=!options.width type=number ng-model=options.zoom step=0.1 min=0.1 max=20 class=form-control></div><div class="form-group text-center"><label class=control-label><i class="fa fa-search"></i> 行高</label><br><input type=number ng-model=options.rowHeight ng-change=setRowHeight() step=0.1 min=1 max=10 class=form-control></div><div class="form-group text-center"><label class=control-label><i class="fa fa-text-width"></i> 标注</label><br><div class=btn-group bs-checkbox-group><button type=button class="btn btn-default" ng-model=options.labelsEnabled bs-checkbox>显示</button> <button type=button class="btn btn-default" ng-model=options.allowSideResizing bs-checkbox>可调整大小</button></div></div><div class="form-group text-center"><label class=control-label><i class="fa fa-code"></i> 内容</label><br><div class=btn-group bs-checkbox-group><button type=button class="btn btn-default" ng-model=options.rowContentEnabled bs-checkbox>行图标</button> <button type=button class="btn btn-default" ng-model=options.taskContentEnabled bs-checkbox>任务图标</button></div></div><div ng-if="options.sideMode === 'Tree' || options.sideMode === 'TreeTable'" class="form-group text-center"><label class=control-label><i class="fa fa fa-chevron-circle-right"></i> 树操作</label><br><div class=btn-group><button class="btn btn-default" ng-click=expandAll()>展开所有</button> <button class="btn btn-default" ng-click=collapseAll()>折叠所有</button></div></div><div class="form-group text-center"><div class=form-group><label class=control-label><i class="fa fa-link"></i> 依赖</label><br><button type=button class="btn btn-default" ng-model=options.dependencies.enabled bs-checkbox>启用</button> <button type=button class="btn btn-default" ng-model=options.dependencies.conflictChecker bs-checkbox>检查冲突</button></div></div><div class="form-group text-center"><label class=control-label><i class="fa fa-database"></i> 数据</label><br><div class=btn-group><button class="btn btn-default" ng-click=reload()>最新的</button> <button class="btn btn-default" ng-click=loadLastVersion()>上一个版本</button></div></div><div class="form-group text-right save-btn"><button type=button class="btn btn-primary" ng-click=save()>保存变更</button></div></div></div></div></div></div></div></div></div></div><div class="row top-buffer"><div class="col-md-12 full-height"><div class=panel-group bs-collapse><div class="panel panel-default full-height"><div class=panel-heading><h4 class=panel-title><a href="" bs-collapse-toggle>Gantt</a></h4></div><div class="panel-collapse gantt-panel" ng-style="{ height: options.scale === 'day' ? 'calc(100% - 67px)' : 'calc(100% - 37px)'}" bs-collapse-target><div class=panel-body ng-if="data && data.length"><div gantt class=gantt-wrapper data=data headers-formats=options.headersFormats column-limit-threshold=options.columnLimitThreshold show-side=options.labelsEnabled daily=options.daily filter-task="{'name': options.filterTask}" filter-row="{'name': options.filterRow}" sort-mode=options.sortMode view-scale=options.scale column-width="getColumnWidth(options.width, options.scale, options.zoom)" auto-expand=options.autoExpand task-out-of-range=options.taskOutOfRange from-date=options.fromDate to-date=options.toDate allow-side-resizing=options.allowSideResizing task-content="options.taskContentEnabled ? options.taskContent : undefined" row-content="options.rowContentEnabled ? options.rowContent : undefined" current-date=options.currentDate current-date-value=options.currentDateValue headers="options.width && options.shortHeaders || options.longHeaders" max-height="options.maxHeight && 300 || 0" time-frames=options.timeFrames date-frames=options.dateFrames time-frames-working-mode=options.timeFramesWorkingMode time-frames-non-working-mode=options.timeFramesNonWorkingMode time-frames-magnet=options.timeFramesMagnet api=options.api column-magnet=options.columnMagnet><gantt-tree enabled="options.sideMode === 'Tree' || options.sideMode === 'TreeTable'" header-content=options.treeHeaderContent keep-ancestor-on-filter-row=true></gantt-tree><gantt-table enabled="options.sideMode === 'Table' || options.sideMode === 'TreeTable'" columns="options.sideMode === 'TreeTable' ? options.treeTableColumns : options.columns" headers=options.columnsHeaders classes=options.columnsClasses formatters=options.columnsFormatters contents=options.columnsContents header-contents=options.columnsHeaderContents></gantt-table><gantt-corner headers-labels=options.corner.headersLabels headers-labels-templates=options.corner.headersLabelsTemplates></gantt-corner><gantt-groups enabled="options.groupDisplayMode === 'group' || options.groupDisplayMode === 'overview' || options.groupDisplayMode === 'promote'" display=options.groupDisplayMode></gantt-groups><gantt-tooltips content=options.tooltips.content></gantt-tooltips><gantt-bounds></gantt-bounds><gantt-progress></gantt-progress><gantt-sortable></gantt-sortable><gantt-sections></gantt-sections><gantt-movable enabled=!options.readOnly allow-row-switching=options.movable.allowRowSwitching allow-resizing=options.movable.allowResizing></gantt-movable><gantt-draw-task enabled=options.canDraw move-threshold=2 task-factory=options.drawTaskFactory></gantt-draw-task><gantt-overlap></gantt-overlap><gantt-resize-sensor></gantt-resize-sensor><gantt-dependencies enabled=options.dependencies.enabled conflict-checker=options.dependencies.conflictChecker read-only=options.readOnly></gantt-dependencies></div></div></div></div></div></div></div></div></div></div><script type=text/javascript src=/static/gantt_dist/manifest.js></script><script type=text/javascript src=/static/gantt_dist/vendor.js></script><script type=text/javascript src=/static/gantt_dist/angular-gantt-scheduling.js></script></body></html>